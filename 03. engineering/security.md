# 해싱과 암호화
해싱과 암호화는 일상에서 통용되는 단어이지만, 암호학적으로 봤을 때는 차이가 있다.  
가장 큰 차이는 '방향성'이다.  
해싱의 방향은 '단방향'이다. 즉 복호화가 불가능하다는 것이다.  
반면에 암호화는 '양방향'이다. 즉 암호화를 하면 역으로 복호화도 가능하단 얘기다.  

# 단방향 해시 함수란 ?
단방향 해시 함수는 어떤 수학적 연산 또는 알고리즘에 의해 원본 데이터를 매핑시켜 완전히 다른 암호화된 데이터로 변환시키는 것을 의미한다. 이 변환을 해시라고 하며, 해시에 의해 암호화된 데이터를 __다이제스트(digest)__ 라고 한다.  

해싱은 단방향이기 때문에 다이제스트를 복호화, 원본 데이터를 구할 수 없다.  
> DB 서버가 공격자에 의해 유저 데이터를 탈취당했다고 한들 해싱된 패스워드를 복호화해 원문을 파악할 수 없으니, 무용지물이다.  

## 해싱 함수의 한계  
1. A는 B이다.  
해싱의 특징으로 A라는 값을 대입했을 때 값은 무조건 B이다.  
따라서, 공격자들이 패스워드(A)에 대한 B라는 값의 리스트를 갖고 공유하고 있을 수 있다.  
이러한 다이제스트를 __레인보우 테이블(Rainbow Table)__ 이라고 한다.  

2. 무차별 대입 공격 (브루트포스)  
해시 함수의 경우 원래 빠른 데이터 검색을 위한 목적으로 설계되었다.  
따라서, 해시 함수를 통해 다이제스트 값을 얻는 것은 매우 빠르며 해커 또한 같은 속도를 누릴 수 있다.  
즉, 해커는 무작위의 데이터들을 계속 대입하며 갑을 유추할 수 있다.  
> 블로그에서 속도를 계산한 흥미로운 예시가 있었다. PC에서 1초당 1억 번의 연산을 수행할 수 있다고 할 경우 `SHA-256`을 완전히 해독하기 위해서는 2의 256승 즉, 115,792,089,237,316,195,423,570,985,008,687,907,853,269,984,665,640,464,564,039,457,584,007,913,129,639,936의 경우의 수를 모두 파악해야한다.


# SQL Injection  
클라이언트에서 서버로 데이터를 전달할 때 SQL 문의 일부를 넣어 서버의 DB를 직접 조작하는 행위를 말한다.  
예를 들어 아래와 같이 조작 가능하다.  
> 유저는 로그인 화면에서 아이디, 패스워드 값을 넣어 로그인을 요청한다. 이 때 아이디는 `admin` 패스워드 값으로 `' OR '1' = '1`이란 값을 넣는다. 서버는 'SQL Injection'에 대한 어떠한 대비 없이 클라이언트에서 넘겨준 값을 그대로 사용한다고 할 경우 서버에서는 `SELECT * FROM user WHERE id = 'admin' AND password = '' OR '1' = '1';` 쿼리를 실행함으로써 로그인에 성공하게 될 수 있다.  
위의 예시 뿐만 아니라 JOIN, UNION 구문을 사용하여 공격자가 원하는 쿼리를 실행할 수 있다.  

## 참고링크  
[https://st-lab.tistory.com/100](https://st-lab.tistory.com/100)